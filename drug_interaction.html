{% extends "base.html" %}

{% block title %}Drug Interaction Checker - Smart Health Navigator{% endblock %}

{% block page_title %}Drug Interaction Checker{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8 mx-auto">
        <div class="card mb-4 fade-in">
            <div class="card-body">
                <h2 class="card-title">Check for Drug Interactions</h2>
                <p class="lead">Enter two medications to check if they have a known interaction.</p>
                
                <div class="alert alert-info mt-3">
                    <i class="fas fa-info-circle"></i> Drug interactions can cause unexpected side effects or reduce medication effectiveness. Always consult your healthcare provider about all medications you are taking.
                </div>
                
                <form id="drug-interaction-form" class="drug-interaction-form mt-4">
                    <div class="row mb-3">
                        <div class="col-md-6 mb-3">
                            <div class="form-group">
                                <label for="drug1" class="form-label">First Medication</label>
                                <input type="text" id="drug1" name="drug1" class="form-control" placeholder="Enter medication name" required>
                            </div>
                        </div>
                        
                        <div class="col-md-6 mb-3">
                            <div class="form-group">
                                <label for="drug2" class="form-label">Second Medication</label>
                                <input type="text" id="drug2" name="drug2" class="form-control" placeholder="Enter medication name" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-search"></i> Check Interaction
                        </button>
                    </div>
                </form>
                
                <div id="loading-spinner" class="text-center mt-4 hidden">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p>Checking drug interaction...</p>
                </div>
                
                <div id="interaction-result" class="interaction-result mt-4"></div>
                
                <div class="mt-4 animate-on-scroll" data-animation="fade-in">
                    <h3>Example Medications</h3>
                    <p>Click on any medication to add it to the form:</p>
                    
                    <div class="drug-list">
                        <div class="drug-chip">Aspirin</div>
                        <div class="drug-chip">Ibuprofen</div>
                        <div class="drug-chip">Acetaminophen</div>
                        <div class="drug-chip">Omeprazole</div>
                        <div class="drug-chip">Lisinopril</div>
                        <div class="drug-chip">Atorvastatin</div>
                        <div class="drug-chip">Metformin</div>
                        <div class="drug-chip">Amlodipine</div>
                        <div class="drug-chip">Levothyroxine</div>
                        <div class="drug-chip">Prednisone</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card animate-on-scroll" data-animation="slide-in-left">
            <div class="card-body">
                <h3 class="card-title">Understanding Drug Interactions</h3>
                
                <div class="mt-3">
                    <h4>What are drug interactions?</h4>
                    <p>Drug interactions occur when a drug's effect changes due to the presence of another substance, which can be another drug, food, or beverage. These interactions can make a medication less effective, cause unexpected side effects, or increase the action of a particular drug.</p>
                </div>
                
                <div class="mt-3">
                    <h4>Types of Drug Interactions</h4>
                    
                    <div class="row mt-2">
                        <div class="col-md-4 mb-3">
                            <div class="card p-2 h-100">
                                <h5 class="text-primary">Drug-Drug</h5>
                                <p>When two or more medications interact with each other.</p>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-3">
                            <div class="card p-2 h-100">
                                <h5 class="text-primary">Drug-Food</h5>
                                <p>When medications interact with foods or beverages.</p>
                            </div>
                        </div>
                        
                        <div class="col-md-4 mb-3">
                            <div class="card p-2 h-100">
                                <h5 class="text-primary">Drug-Condition</h5>
                                <p>When an existing medical condition makes certain drugs potentially harmful.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="mt-3">
                    <h4>Common Interaction Severity Levels</h4>
                    
                    <div class="alert alert-danger mt-2">
                        <strong>Major/Severe:</strong> Highly clinically significant. Avoid combinations; the risk of interaction outweighs the benefits.
                    </div>
                    
                    <div class="alert alert-warning mt-2">
                        <strong>Moderate:</strong> Moderately clinically significant. Usually avoid combinations; use only under special circumstances.
                    </div>
                    
                    <div class="alert alert-success mt-2">
                        <strong>Minor/Mild:</strong> Minimally clinically significant. Minimize risk; assess risk and consider an alternative drug, take steps to circumvent the interaction, or proceed with caution.
                    </div>
                </div>
                
                <div class="alert alert-info mt-4">
                    <p><strong>Remember:</strong> This tool provides information about potential drug interactions, but it's not comprehensive. Always consult your healthcare provider or pharmacist about all medications you are taking, including over-the-counter drugs, supplements, and herbal products.</p>
                </div>
            </div>
        </div>
    </div>
</div>

{% block extra_js %}
<script src="{{ url_for('static', filename='js/drug_interactions.js') }}"></script>
{% endblock %}
{% endblock %}
